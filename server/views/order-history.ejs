<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Order History</title>
</head>
<body>

<h1>Order History</h1>

<div id="orderDetails">
    <!-- Order details and cart items will be displayed here -->
</div>

<button onclick="goToProducts()">Go to Products</button>

<script>
    // Retrieve form data and cart items from local storage
    const formData = JSON.parse(localStorage.getItem('formData'));
    const cartItems = JSON.parse(localStorage.getItem('cartItems'));

    // Reference to the container
    const orderDetailsContainer = document.getElementById('orderDetails');

    // Initialize total price
    let totalPrice = 0;

    // Display order details and cart items
    if (formData) {
        let orderDetailsHTML = `
            <h2>Your Order Details:</h2>
            <p>Name: ${formData.name}</p>
            <p>Address: ${formData.address}</p>
            <p>Pincode: ${formData.pincode}</p>
        `;

        if (cartItems && cartItems.length > 0) {
            orderDetailsHTML += `
                <h2>Your Cart Items:</h2>
                <ul>
            `;
            cartItems.forEach(item => {
                orderDetailsHTML += `<li>${item.name} - Quantity: ${item.quantity}</li>`;
                totalPrice += item.price * item.quantity;
            });
            orderDetailsHTML += '</ul>';
        } else {
            orderDetailsHTML += '<p>No cart items found.</p>';
        }

        // Display total price
        orderDetailsHTML += `<p>Total Price: $${totalPrice.toFixed(2)}</p>`;

        orderDetailsContainer.innerHTML = orderDetailsHTML;
    } else {
        orderDetailsContainer.innerHTML = '<p>No order details found.</p>';
    }

    // Function to redirect to the products page
    function goToProducts() {
        window.location.href = '/products';
    }
</script>

</body>
</html>
